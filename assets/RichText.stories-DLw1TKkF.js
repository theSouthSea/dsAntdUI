import{r as h,R as ke}from"./index-BwDkhjyp.js";import{p as l}from"./index-Dk74W0Oi.js";import{j as b,a as O,F as K,m as _e,w as we,T as Ie,g as xe,s as Te,r as Ee,i as Pe}from"./emotion-react-jsx-runtime.browser.esm-C4yDm8mC.js";import{F as $e,a as D,C as Me,R as Oe}from"./Input-Bxnn9j1i.js";import{R as Ne,B as N}from"./button-CfjClziF.js";import{K as W,S as Re}from"./index-Cjnwf7oM.js";import{c as ue}from"./assertThisInitialized-yxL75rf1.js";import{u as Be}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm--wlgpIj0.js";import{a as Le,b as De,c as pe,d as X,g as Ae,m as He,u as T,r as ze,i as Ve,j as Fe,C as qe,D as je,h as Ue,W as Ke}from"./useSize-DEaGCPa-.js";import{u as fe}from"./context-DyWsVHVj.js";import"./_commonjsHelpers-BosuxZz1.js";import"./jsx-runtime-Nms4Y4qS.js";import"./pickAttrs-B2l-wuCG.js";import"./index-CReuRBEY.js";import"./wrapNativeSuper-BQyYc5aO.js";var We=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],he=h.forwardRef(function(e,n){var r,a=e.prefixCls,i=a===void 0?"rc-switch":a,c=e.className,t=e.checked,o=e.defaultChecked,s=e.disabled,d=e.loadingIcon,u=e.checkedChildren,p=e.unCheckedChildren,f=e.onClick,g=e.onChange,m=e.onKeyDown,v=Le(e,We),y=fe(!1,{value:t,defaultValue:o}),C=De(y,2),S=C[0],k=C[1];function I(_,E){var x=S;return s||(x=_,k(x),g==null||g(x,E)),x}function P(_){_.which===W.LEFT?I(!1,_):_.which===W.RIGHT&&I(!0,_),m==null||m(_)}function w(_){var E=I(!S,_);f==null||f(E,_)}var $=pe(i,c,(r={},X(r,"".concat(i,"-checked"),S),X(r,"".concat(i,"-disabled"),s),r));return h.createElement("button",ue({},v,{type:"button",role:"switch","aria-checked":S,disabled:s,className:$,ref:n,onKeyDown:P,onClick:w}),d,h.createElement("span",{className:"".concat(i,"-inner")},h.createElement("span",{className:"".concat(i,"-inner-checked")},u),h.createElement("span",{className:"".concat(i,"-inner-unchecked")},p)))});he.displayName="Switch";const Xe=e=>{const{componentCls:n,trackHeightSM:r,trackPadding:a,trackMinWidthSM:i,innerMinMarginSM:c,innerMaxMarginSM:t,handleSizeSM:o,calc:s}=e,d=`${n}-inner`,u=T(s(o).add(s(a).mul(2)).equal()),p=T(s(t).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:i,height:r,lineHeight:T(r),[`${n}-inner`]:{paddingInlineStart:t,paddingInlineEnd:c,[`${d}-checked, ${d}-unchecked`]:{minHeight:r},[`${d}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${p})`,marginInlineEnd:`calc(100% - ${u} + ${p})`},[`${d}-unchecked`]:{marginTop:s(r).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:o,height:o},[`${n}-loading-icon`]:{top:s(s(o).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:c,paddingInlineEnd:t,[`${d}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${d}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${p})`,marginInlineEnd:`calc(-100% + ${u} - ${p})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${T(s(o).add(a).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${d}`]:{[`${d}-unchecked`]:{marginInlineStart:s(e.marginXXS).div(2).equal(),marginInlineEnd:s(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${d}`]:{[`${d}-checked`]:{marginInlineStart:s(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:s(e.marginXXS).div(2).equal()}}}}}}},Ge=e=>{const{componentCls:n,handleSize:r,calc:a}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:a(a(r).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},Ye=e=>{const{componentCls:n,trackPadding:r,handleBg:a,handleShadow:i,handleSize:c,calc:t}=e,o=`${n}-handle`;return{[n]:{[o]:{position:"absolute",top:r,insetInlineStart:r,width:c,height:c,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:a,borderRadius:t(c).div(2).equal(),boxShadow:i,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${o}`]:{insetInlineStart:`calc(100% - ${T(t(c).add(r).equal())})`},[`&:not(${n}-disabled):active`]:{[`${o}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${o}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Je=e=>{const{componentCls:n,trackHeight:r,trackPadding:a,innerMinMargin:i,innerMaxMargin:c,handleSize:t,calc:o}=e,s=`${n}-inner`,d=T(o(t).add(o(a).mul(2)).equal()),u=T(o(c).mul(2).equal());return{[n]:{[s]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:c,paddingInlineEnd:i,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${s}-checked, ${s}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:r},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${d} - ${u})`,marginInlineEnd:`calc(100% - ${d} + ${u})`},[`${s}-unchecked`]:{marginTop:o(r).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${s}`]:{paddingInlineStart:i,paddingInlineEnd:c,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${d} + ${u})`,marginInlineEnd:`calc(-100% + ${d} - ${u})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:o(a).mul(2).equal(),marginInlineEnd:o(a).mul(-1).mul(2).equal()}},[`&${n}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:o(a).mul(-1).mul(2).equal(),marginInlineEnd:o(a).mul(2).equal()}}}}}},Qe=e=>{const{componentCls:n,trackHeight:r,trackMinWidth:a}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},ze(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:a,height:r,lineHeight:T(r),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Ve(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},Ze=e=>{const{fontSize:n,lineHeight:r,controlHeight:a,colorWhite:i}=e,c=n*r,t=a/2,o=2,s=c-o*2,d=t-o*2;return{trackHeight:c,trackHeightSM:t,trackMinWidth:s*2+o*4,trackMinWidthSM:d*2+o*2,trackPadding:o,handleBg:i,handleSize:s,handleSizeSM:d,handleShadow:`0 2px 4px 0 ${new Fe("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:s/2,innerMaxMargin:s+o+o*2,innerMinMarginSM:d/2,innerMaxMarginSM:d+o+o*2}},en=Ae("Switch",e=>{const n=He(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[Qe(n),Je(n),Ye(n),Ge(n),Xe(n)]},Ze);var nn=function(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r};const tn=h.forwardRef((e,n)=>{const{prefixCls:r,size:a,disabled:i,loading:c,className:t,rootClassName:o,style:s,checked:d,value:u,defaultChecked:p,defaultValue:f,onChange:g}=e,m=nn(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[v,y]=fe(!1,{value:d??u,defaultValue:p??f}),{getPrefixCls:C,direction:S,switch:k}=h.useContext(qe),I=h.useContext(je),P=(i??I)||c,w=C("switch",r),$=h.createElement("div",{className:`${w}-handle`},c&&h.createElement(Ne,{className:`${w}-loading-icon`})),[_,E,x]=en(w),M=Ue(a),be=pe(k==null?void 0:k.className,{[`${w}-small`]:M==="small",[`${w}-loading`]:c,[`${w}-rtl`]:S==="rtl"},t,o,E,x),Ce=Object.assign(Object.assign({},k==null?void 0:k.style),s),Se=function(){y(arguments.length<=0?void 0:arguments[0]),g==null||g.apply(void 0,arguments)};return _(h.createElement(Ke,{component:"Switch"},h.createElement(he,Object.assign({},m,{checked:v,onChange:Se,prefixCls:w,className:be,style:Ce,disabled:P,ref:n,loadingIcon:$}))))}),me=tn;me.__ANT_SWITCH=!0;var V=function(){return V=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},V.apply(this,arguments)},ge={onActivate:l.func,onAddUndo:l.func,onBeforeAddUndo:l.func,onBeforeExecCommand:l.func,onBeforeGetContent:l.func,onBeforeRenderUI:l.func,onBeforeSetContent:l.func,onBeforePaste:l.func,onBlur:l.func,onChange:l.func,onClearUndos:l.func,onClick:l.func,onContextMenu:l.func,onCommentChange:l.func,onCopy:l.func,onCut:l.func,onDblclick:l.func,onDeactivate:l.func,onDirty:l.func,onDrag:l.func,onDragDrop:l.func,onDragEnd:l.func,onDragGesture:l.func,onDragOver:l.func,onDrop:l.func,onExecCommand:l.func,onFocus:l.func,onFocusIn:l.func,onFocusOut:l.func,onGetContent:l.func,onHide:l.func,onInit:l.func,onKeyDown:l.func,onKeyPress:l.func,onKeyUp:l.func,onLoadContent:l.func,onMouseDown:l.func,onMouseEnter:l.func,onMouseLeave:l.func,onMouseMove:l.func,onMouseOut:l.func,onMouseOver:l.func,onMouseUp:l.func,onNodeChange:l.func,onObjectResizeStart:l.func,onObjectResized:l.func,onObjectSelected:l.func,onPaste:l.func,onPostProcess:l.func,onPostRender:l.func,onPreProcess:l.func,onProgressState:l.func,onRedo:l.func,onRemove:l.func,onReset:l.func,onSaveContent:l.func,onSelectionChange:l.func,onSetAttrib:l.func,onSetContent:l.func,onShow:l.func,onSubmit:l.func,onUndo:l.func,onVisualAid:l.func,onSkinLoadError:l.func,onThemeLoadError:l.func,onModelLoadError:l.func,onPluginLoadError:l.func,onIconsLoadError:l.func,onLanguageLoadError:l.func,onScriptsLoad:l.func,onScriptsLoadError:l.func},rn=V({apiKey:l.string,id:l.string,inline:l.bool,init:l.object,initialValue:l.string,onEditorChange:l.func,value:l.string,tagName:l.string,cloudChannel:l.string,plugins:l.oneOfType([l.string,l.array]),toolbar:l.oneOfType([l.string,l.array]),disabled:l.bool,textareaName:l.string,tinymceScriptSrc:l.oneOfType([l.string,l.arrayOf(l.string),l.arrayOf(l.shape({src:l.string,async:l.bool,defer:l.bool}))]),rollback:l.oneOfType([l.number,l.oneOf([!1])]),scriptLoading:l.shape({async:l.bool,defer:l.bool,delay:l.number})},ge),H=function(e){return typeof e=="function"},G=function(e){return e in ge},Y=function(e){return e.substr(2)},an=function(e,n,r,a,i,c,t){var o=Object.keys(i).filter(G),s=Object.keys(c).filter(G),d=o.filter(function(p){return c[p]===void 0}),u=s.filter(function(p){return i[p]===void 0});d.forEach(function(p){var f=Y(p),g=t[f];r(f,g),delete t[f]}),u.forEach(function(p){var f=a(e,p),g=Y(p);t[g]=f,n(g,f)})},on=function(e,n,r,a,i){return an(i,e.on.bind(e),e.off.bind(e),function(c,t){return function(o){var s;return(s=c(t))===null||s===void 0?void 0:s(o,e)}},n,r,a)},J=0,ve=function(e){var n=Date.now(),r=Math.floor(Math.random()*1e9);return J++,e+"_"+r+J+String(n)},Q=function(e){return e!==null&&(e.tagName.toLowerCase()==="textarea"||e.tagName.toLowerCase()==="input")},Z=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},ln=function(e,n){return Z(e).concat(Z(n))},sn=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},cn=function(e){if(!("isConnected"in Node.prototype)){for(var n=e,r=e.parentNode;r!=null;)n=r,r=n.parentNode;return n===e.ownerDocument}return e.isConnected},ee=function(e,n){e!==void 0&&(e.mode!=null&&typeof e.mode=="object"&&typeof e.mode.set=="function"?e.mode.set(n):e.setMode(n))},F=function(){return F=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F.apply(this,arguments)},dn=function(e,n,r){var a,i,c=e.createElement("script");c.referrerPolicy="origin",c.type="application/javascript",c.id=n.id,c.src=n.src,c.async=(a=n.async)!==null&&a!==void 0?a:!1,c.defer=(i=n.defer)!==null&&i!==void 0?i:!1;var t=function(){c.removeEventListener("load",t),c.removeEventListener("error",o),r(n.src)},o=function(s){c.removeEventListener("load",t),c.removeEventListener("error",o),r(n.src,s)};c.addEventListener("load",t),c.addEventListener("error",o),e.head&&e.head.appendChild(c)},un=function(e){var n={},r=function(t,o){var s=n[t];s.done=!0,s.error=o;for(var d=0,u=s.handlers;d<u.length;d++){var p=u[d];p(t,o)}s.handlers=[]},a=function(t,o,s){var d=function(S){return s!==void 0?s(S):console.error(S)};if(t.length===0){d(new Error("At least one script must be provided"));return}for(var u=0,p=!1,f=function(S,k){p||(k?(p=!0,d(k)):++u===t.length&&o())},g=0,m=t;g<m.length;g++){var v=m[g],y=n[v.src];if(y)y.done?f(v.src,y.error):y.handlers.push(f);else{var C=ve("tiny-");n[v.src]={id:C,src:v.src,done:!1,error:null,handlers:[f]},dn(e,F({id:C},v),r)}}},i=function(){for(var t,o=0,s=Object.values(n);o<s.length;o++){var d=s[o],u=e.getElementById(d.id);u!=null&&u.tagName==="SCRIPT"&&((t=u.parentNode)===null||t===void 0||t.removeChild(u))}n={}},c=function(){return e};return{loadScripts:a,deleteScripts:i,getDocument:c}},pn=function(){var e=[],n=function(i){var c=e.find(function(t){return t.getDocument()===i});return c===void 0&&(c=un(i),e.push(c)),c},r=function(i,c,t,o,s){var d=function(){return n(i).loadScripts(c,o,s)};t>0?setTimeout(d,t):d()},a=function(){for(var i=e.pop();i!=null;i=e.pop())i.deleteScripts()};return{loadList:r,reinitialize:a}},fn=pn(),z=function(e){var n=e;return n&&n.tinymce?n.tinymce:null},hn=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(a[c]=i[c])},e(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(n,r);function a(){this.constructor=n}n.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),A=function(){return A=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},A.apply(this,arguments)},mn=function(e){hn(n,e);function n(r){var a,i,c,t=e.call(this,r)||this;return t.rollbackTimer=void 0,t.valueCursor=void 0,t.rollbackChange=function(){var o=t.editor,s=t.props.value;o&&s&&s!==t.currentContent&&o.undoManager.ignore(function(){if(o.setContent(s),t.valueCursor&&(!t.inline||o.hasFocus()))try{o.selection.moveToBookmark(t.valueCursor)}catch{}}),t.rollbackTimer=void 0},t.handleBeforeInput=function(o){if(t.props.value!==void 0&&t.props.value===t.currentContent&&t.editor&&(!t.inline||t.editor.hasFocus()))try{t.valueCursor=t.editor.selection.getBookmark(3)}catch{}},t.handleBeforeInputSpecial=function(o){(o.key==="Enter"||o.key==="Backspace"||o.key==="Delete")&&t.handleBeforeInput(o)},t.handleEditorChange=function(o){var s=t.editor;if(s&&s.initialized){var d=s.getContent();t.props.value!==void 0&&t.props.value!==d&&t.props.rollback!==!1&&(t.rollbackTimer||(t.rollbackTimer=window.setTimeout(t.rollbackChange,typeof t.props.rollback=="number"?t.props.rollback:200))),d!==t.currentContent&&(t.currentContent=d,H(t.props.onEditorChange)&&t.props.onEditorChange(d,s))}},t.handleEditorChangeSpecial=function(o){(o.key==="Backspace"||o.key==="Delete")&&t.handleEditorChange(o)},t.initialise=function(o){var s,d,u;o===void 0&&(o=0);var p=t.elementRef.current;if(p){if(!cn(p)){if(o===0)setTimeout(function(){return t.initialise(1)},1);else if(o<100)setTimeout(function(){return t.initialise(o+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var f=z(t.view);if(!f)throw new Error("tinymce should have been loaded into global scope");var g=A(A({},t.props.init),{selector:void 0,target:p,readonly:t.props.disabled,inline:t.inline,plugins:ln((s=t.props.init)===null||s===void 0?void 0:s.plugins,t.props.plugins),toolbar:(d=t.props.toolbar)!==null&&d!==void 0?d:(u=t.props.init)===null||u===void 0?void 0:u.toolbar,setup:function(m){t.editor=m,t.bindHandlers({}),t.inline&&!Q(p)&&m.once("PostRender",function(v){m.setContent(t.getInitialValue(),{no_events:!0})}),t.props.init&&H(t.props.init.setup)&&t.props.init.setup(m)},init_instance_callback:function(m){var v,y,C=t.getInitialValue();t.currentContent=(v=t.currentContent)!==null&&v!==void 0?v:m.getContent(),t.currentContent!==C&&(t.currentContent=C,m.setContent(C),m.undoManager.clear(),m.undoManager.add(),m.setDirty(!1));var S=(y=t.props.disabled)!==null&&y!==void 0?y:!1;ee(t.editor,S?"readonly":"design"),t.props.init&&H(t.props.init.init_instance_callback)&&t.props.init.init_instance_callback(m)}});t.inline||(p.style.visibility=""),Q(p)&&(p.value=t.getInitialValue()),f.init(g)}},t.id=t.props.id||ve("tiny-react"),t.elementRef=h.createRef(),t.inline=(c=(a=t.props.inline)!==null&&a!==void 0?a:(i=t.props.init)===null||i===void 0?void 0:i.inline)!==null&&c!==void 0?c:!1,t.boundHandlers={},t}return Object.defineProperty(n.prototype,"view",{get:function(){var r,a;return(a=(r=this.elementRef.current)===null||r===void 0?void 0:r.ownerDocument.defaultView)!==null&&a!==void 0?a:window},enumerable:!1,configurable:!0}),n.prototype.componentDidUpdate=function(r){var a=this,i,c;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(r),this.editor.initialized)){if(this.currentContent=(i=this.currentContent)!==null&&i!==void 0?i:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==r.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var t=this.editor;t.undoManager.transact(function(){var s;if(!a.inline||t.hasFocus())try{s=t.selection.getBookmark(3)}catch{}var d=a.valueCursor;if(t.setContent(a.props.value),!a.inline||t.hasFocus())for(var u=0,p=[s,d];u<p.length;u++){var f=p[u];if(f)try{t.selection.moveToBookmark(f),a.valueCursor=f;break}catch{}}})}if(this.props.disabled!==r.disabled){var o=(c=this.props.disabled)!==null&&c!==void 0?c:!1;ee(this.editor,o?"readonly":"design")}}},n.prototype.componentDidMount=function(){var r=this,a,i,c,t,o;if(z(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(i=(a=this.props).onScriptsLoadError)===null||i===void 0||i.call(a,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((c=this.elementRef.current)===null||c===void 0)&&c.ownerDocument){var s=function(){var u,p;(p=(u=r.props).onScriptsLoad)===null||p===void 0||p.call(u),r.initialise()},d=function(u){var p,f;(f=(p=r.props).onScriptsLoadError)===null||f===void 0||f.call(p,u)};fn.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(o=(t=this.props.scriptLoading)===null||t===void 0?void 0:t.delay)!==null&&o!==void 0?o:0,s,d)}},n.prototype.componentWillUnmount=function(){var r=this,a=this.editor;a&&(a.off(this.changeEvents(),this.handleEditorChange),a.off(this.beforeInputEvent(),this.handleBeforeInput),a.off("keypress",this.handleEditorChangeSpecial),a.off("keydown",this.handleBeforeInputSpecial),a.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(i){a.off(i,r.boundHandlers[i])}),this.boundHandlers={},a.remove(),this.editor=void 0)},n.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},n.prototype.changeEvents=function(){var r,a,i,c=(i=(a=(r=z(this.view))===null||r===void 0?void 0:r.Env)===null||a===void 0?void 0:a.browser)===null||i===void 0?void 0:i.isIE();return c?"change keyup compositionend setcontent CommentChange":"change input compositionend setcontent CommentChange"},n.prototype.beforeInputEvent=function(){return sn()?"beforeinput SelectionChange":"SelectionChange"},n.prototype.renderInline=function(){var r=this.props.tagName,a=r===void 0?"div":r;return h.createElement(a,{ref:this.elementRef,id:this.id})},n.prototype.renderIframe=function(){return h.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},n.prototype.getScriptSources=function(){var r,a,i=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.async,c=(a=this.props.scriptLoading)===null||a===void 0?void 0:a.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:i,defer:c}]:this.props.tinymceScriptSrc.map(function(d){return typeof d=="string"?{src:d,async:i,defer:c}:d});var t=this.props.cloudChannel,o=this.props.apiKey?this.props.apiKey:"no-api-key",s="https://cdn.tiny.cloud/1/".concat(o,"/tinymce/").concat(t,"/tinymce.min.js");return[{src:s,async:i,defer:c}]},n.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},n.prototype.bindHandlers=function(r){var a=this;if(this.editor!==void 0){on(this.editor,r,this.props,this.boundHandlers,function(o){return a.props[o]});var i=function(o){return o.onEditorChange!==void 0||o.value!==void 0},c=i(r),t=i(this.props);!c&&t?(this.editor.on(this.changeEvents(),this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):c&&!t&&(this.editor.off(this.changeEvents(),this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},n.propTypes=rn,n.defaultProps={cloudChannel:"6"},n}(h.Component);const ye=h.createContext({uploadPath:"",apiKey:""}),ne=({children:e})=>{const[n,r]=h.useState({uploadPath:"",apiKey:"puubbn828dxfrj8h52bvwuuztow4xphn6u91zx41qh3o473r"});return b(ye.Provider,{value:n,children:e})},gn=()=>h.useContext(ye);try{ne.displayName="GlobalConfigProvider",ne.__docgenInfo={description:"",displayName:"GlobalConfigProvider",props:{}}}catch{}function R(e){const{apiKey:n,uploadPath:r}=gn();return b(mn,{apiKey:n,...e,init:{height:500,menubar:!0,language:"zh_CN",plugins:["anchor","autolink","charmap","codesample","emoticons","image","link","lists","media","searchreplace","table","visualblocks","wordcount","checklist","mediaembed","casechange","export","formatpainter","pageembed","linkchecker","a11ychecker","permanentpen","powerpaste","advtable","advcode","editimage","tableofcontents","footnotes","autocorrect","typography","inlinecss"],toolbar:"undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat",images_upload_handler:(i,c)=>new Promise((t,o)=>{const s=new XMLHttpRequest;s.withCredentials=!1,s.open("POST",r),s.upload.onprogress=u=>{c(u.loaded/u.total*100)},s.onload=()=>{if(s.status===403){o({message:`HTTP Error: ${s.status}`,remove:!0});return}if(s.status<200||s.status>=300){o(Error(`HTTP Error: ${s.status}`));return}let u=JSON.parse(s.responseText);if((u==null?void 0:u.code)==="200"&&u.data&&(u={location:`${r}${u.data}`}),!u||typeof u.location!="string"){o(Error(`Invalid JSON: ${s.responseText}`));return}t(u.location)},s.onerror=()=>{o(Error(`Image upload failed due to a XHR Transport error. Code: ${s.status}`))};const d=new FormData;d.append("file",i.blob(),i.filename()),s.send(d)}),tinycomments_mode:"embedded",tinycomments_author:"Author name",content_style:"body { font-family:Inter UI,Helvetica,Arial,sans-serif; font-size:14px }",font_size_input_default_unit:"px",font_size_formats:"10px 11px 12px 14px 16px 18px 20px 24px 28px 32px 36px 40px 48px 58px 70px",font_family_formats:"Inter UI=Inter UI,Inter UI;宋体=宋体,SimSun; 微软雅黑=微软雅黑,Microsoft YaHei; 楷体=楷体,楷体_GB2312, SimKai; 黑体=黑体, SimHei; 隶书=隶书, SimLi; andaleMono=andale mono; arial=arial, helvetica,sans-serif; arialBlack=arial black,avant garde; comicSansMs=comic sans ms; impact=impact,chicago; timesNewRoman=times new roman"}})}try{R.displayName="TinyBaseConf",R.__docgenInfo={description:"",displayName:"TinyBaseConf",props:{}}}catch{}function vn({value:e,onBlur:n},r){const a=h.useRef(null),i=h.useRef(n);return i.current||(i.current=()=>{}),h.useImperativeHandle(r,()=>({getTinyContent:()=>a.current&&a.current.getContent()||"",setTinyContent:c=>{a.current&&a.current.setContent(c)}})),b(R,{onInit:(c,t)=>a.current=t,initialValue:e,onBlur:i.current})}const te=h.forwardRef(vn);try{te.displayName="TinyImageUploadRef",te.__docgenInfo={description:"",displayName:"TinyImageUploadRef",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"((event: any, editor: any) => void)"}}}}}catch{}const q=function({initialValue:n,limit:r,value:a,onChange:i,disabled:c=!1}){const t=h.useRef(n||a),o=r??500,[s,d]=ke.useState(0),u=(p,f)=>{const{length:g}=f.getContent({format:"text"});r?g<=o&&(i&&i(p),d(g)):i&&i(p)};if(r){const p=(g,m)=>{const{length:v}=m.getContent({format:"text"});v>o&&g.preventDefault()},f=(g,m)=>{d(m.getContent({format:"text"}).length)};return O(K,{children:[b(R,{disabled:c,initialValue:t.current,value:a,onInit:f,onEditorChange:u,onBeforeAddUndo:p}),O("p",{children:["Remaining: ",o-s]})]})}return b(R,{disabled:c,initialValue:t.current,value:a,onEditorChange:u})};try{q.displayName="TinyControlled",q.__docgenInfo={description:"",displayName:"TinyControlled",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string) => void)"}},initialValue:{defaultValue:null,description:"",name:"initialValue",required:!1,type:{name:"string"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}function yn({hiddenBtn:e="no",onlyShowDeleteBtn:n=!1,onOperate:r}){return b(Re,{children:n?b(N,{type:"primary",danger:!0,onClick:()=>r("delete"),children:"删除"}):O(K,{children:[e!=="up"&&b(N,{type:"primary",onClick:()=>r("up"),children:"上移"}),e!=="down"&&b(N,{onClick:()=>r("down"),children:"下移"}),e!=="delete"&&b(N,{type:"primary",danger:!0,onClick:()=>r("delete"),children:"删除"})]})})}const bn=h.memo(yn);function Cn(e,n,r){const a=h.useCallback(o=>{console.log("handleOperate",o,e),r(o,e)},[e]),i=n-1,c=h.useMemo(()=>{let o="no";return n!==1&&(e===0?o="up":e<i?o="no":o="down"),o},[e,n]);return h.useMemo(()=>b(bn,{onlyShowDeleteBtn:i===0,hiddenBtn:c,onOperate:a}),[i,c])}var Sn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,kn=_e(function(e){return Sn.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),_n=!1,wn=kn,In=function(n){return n!=="theme"},re=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?wn:In},ie=function(n,r,a){var i;if(r){var c=r.shouldForwardProp;i=n.__emotion_forwardProp&&c?function(t){return n.__emotion_forwardProp(t)&&c(t)}:c}return typeof i!="function"&&a&&(i=n.__emotion_forwardProp),i},xn=function(n){var r=n.cache,a=n.serialized,i=n.isStringTag;return Ee(r,a,i),Be(function(){return Pe(r,a,i)}),null},Tn=function e(n,r){var a=n.__emotion_real===n,i=a&&n.__emotion_base||n,c,t;r!==void 0&&(c=r.label,t=r.target);var o=ie(n,r,a),s=o||re(i),d=!s("as");return function(){var u=arguments,p=a&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(c!==void 0&&p.push("label:"+c+";"),u[0]==null||u[0].raw===void 0)p.push.apply(p,u);else{var f=u[0];p.push(f[0]);for(var g=u.length,m=1;m<g;m++)p.push(u[m],f[m])}var v=we(function(y,C,S){var k=d&&y.as||i,I="",P=[],w=y;if(y.theme==null){w={};for(var $ in y)w[$]=y[$];w.theme=h.useContext(Ie)}typeof y.className=="string"?I=xe(C.registered,P,y.className):y.className!=null&&(I=y.className+" ");var _=Te(p.concat(P),C.registered,w);I+=C.key+"-"+_.name,t!==void 0&&(I+=" "+t);var E=d&&o===void 0?re(k):s,x={};for(var M in y)d&&M==="as"||E(M)&&(x[M]=y[M]);return x.className=I,S&&(x.ref=S),h.createElement(h.Fragment,null,h.createElement(xn,{cache:C,serialized:_,isStringTag:typeof k=="string"}),h.createElement(k,x))});return v.displayName=c!==void 0?c:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=p,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return t===void 0&&_n?"NO_COMPONENT_SELECTOR":"."+t}}),v.withComponent=function(y,C){var S=e(y,ue({},r,C,{shouldForwardProp:ie(v,C,!0)}));return S.apply(void 0,p)},v}};const En=Tn("div",{target:"egomldj0"})({name:"1kb5ghr",styles:"line-height:40px;font-size:16px;font-weight:700"});function j({title:e}){return b(En,{children:e})}try{j.displayName="ModuleTitle",j.__docgenInfo={description:"",displayName:"ModuleTitle",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}}}}}catch{}const Pn="_moduleBorder_otg58_1",$n={moduleBorder:Pn},Mn=20;function On(e){const{nameArr:n,deviceType:r,applyType:a="product"}=e;return b(K,{children:r==="pc"&&a==="product"&&b($e.Item,{name:[...n,"dynamicEffectFlag"],valuePropName:"checked",label:"是否开启动态效果",children:b(me,{})})})}try{moduleBaseForm.displayName="moduleBaseForm",moduleBaseForm.__docgenInfo={description:"模块基础表单",displayName:"moduleBaseForm",props:{nameArr:{defaultValue:null,description:"",name:"nameArr",required:!0,type:{name:"(string | number)[]"}},deviceType:{defaultValue:null,description:"",name:"deviceType",required:!1,type:{name:"string"}},applyType:{defaultValue:null,description:"应用类型",name:"applyType",required:!1,type:{name:"any"}}}}}catch{}function U({name:e=[],sort:n,size:r,onOperate:a,deviceType:i,applyType:c,...t}){let o=e;Array.isArray(e)||(o=[e]);const s=Cn(n,r,a);return b(Oe,{gutter:Mn,className:$n.moduleBorder,children:O(Me,{span:24,children:[O(D.Item,{children:[b(j,{title:"富文本"}),s]}),b(On,{nameArr:o,deviceType:i,applyType:c}),b(D.Item,{...t,name:[...o,"description"],className:"mb0",children:b(q,{})})]})})}try{U.displayName="RichText",U.__docgenInfo={description:"",displayName:"RichText",props:{sort:{defaultValue:null,description:"",name:"sort",required:!0,type:{name:"number"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"number"}},name:{defaultValue:{value:"[]"},description:"",name:"name",required:!1,type:{name:"string | number | (string | number)[]"}},onOperate:{defaultValue:null,description:"",name:"onOperate",required:!0,type:{name:"(type: HiddenBtn, idx: number) => void"}},deviceType:{defaultValue:null,description:"",name:"deviceType",required:!1,type:{name:"string"}},applyType:{defaultValue:null,description:"应用类型",name:"applyType",required:!1,type:{name:"any"}},form:{defaultValue:null,description:"",name:"form",required:!1,type:{name:"FormInstance<any>"}}}}}catch{}const Nn=({deviceType:e})=>O(D,{onFinish:i=>{console.log("Success:",i)},onFinishFailed:i=>{console.log("Failed:",i)},children:[b(U,{name:"richtext",sort:1,size:2,onOperate:i=>{console.log(i)},deviceType:e,applyType:"product"}),b(D.Item,{wrapperCol:{offset:8,span:16},children:b(N,{type:"primary",htmlType:"submit",children:"Submit"})})]}),Gn={title:"components/business/RichText",component:Nn,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{deviceType:{control:"radio",options:["pc","mobile"]}}},B={args:{deviceType:"pc"}},L={args:{deviceType:"mobile"}};var ae,oe,le;B.parameters={...B.parameters,docs:{...(ae=B.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    deviceType: "pc"
  }
}`,...(le=(oe=B.parameters)==null?void 0:oe.docs)==null?void 0:le.source}}};var se,ce,de;L.parameters={...L.parameters,docs:{...(se=L.parameters)==null?void 0:se.docs,source:{originalSource:`{
  args: {
    deviceType: "mobile"
  }
}`,...(de=(ce=L.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};const Yn=["RichTextPC","RichTextMobile"];export{L as RichTextMobile,B as RichTextPC,Yn as __namedExportsOrder,Gn as default};
