import{R as h,r as p}from"./index-BwDkhjyp.js";import{j as t,a as n,F as m}from"./emotion-react-jsx-runtime.browser.esm-C4yDm8mC.js";import"./_commonjsHelpers-BosuxZz1.js";import"./jsx-runtime-Nms4Y4qS.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm--wlgpIj0.js";class s extends h.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,o){console.log(e,o)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const y=()=>{const[,r]=p.useState();return e=>{r(()=>{throw e})}},c=r=>{const[,e]=p.useState();return(...o)=>{try{r(o)}catch(u){e(()=>{throw u})}}};try{s.displayName="ErrorBoundary",s.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{fallback:{defaultValue:null,description:"",name:"fallback",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}try{c.displayName="useCallbackWithErrorHandling",c.__docgenInfo={description:"",displayName:"useCallbackWithErrorHandling",props:{}}}catch{}const g=()=>{const r=y();return t("button",{onClick:()=>{try{throw new Error("break things")}catch(o){r(o)}},children:"click me to cause an error"})},E=()=>{const e=c(()=>{throw new Error("break things")});return t("button",{onClick:e,children:"click me to cause an error"})};function k({Fallback:r}){return n("div",{className:"App",children:[t("h1",{children:"ErrorBoundary with async errors"}),t("p",{children:"click on a button to trigger state update and as a result - error"}),n("p",{children:[t("b",{children:"Ignore"})," and close error overlay - it's just in dev mode and can't be removed"]}),n(s,{fallback:r,children:[t(g,{}),t(E,{})]})]})}const S={title:"components/base/AsyncErrorBoundary",component:k,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{Fallback:{control:"text"}}},a={args:{Fallback:t(m,{children:"Something happened!"})}};var l,i,d;a.parameters={...a.parameters,docs:{...(l=a.parameters)==null?void 0:l.docs,source:{originalSource:`{
  args: {
    Fallback: <>Something happened!</>
  }
}`,...(d=(i=a.parameters)==null?void 0:i.docs)==null?void 0:d.source}}};const x=["Default"];export{a as Default,x as __namedExportsOrder,S as default};
