import{r as n}from"./index-BwDkhjyp.js";import{i as y,d as U}from"./debounce-CJ01Vb4c.js";import{a as l,j as i,F as u}from"./emotion-react-jsx-runtime.browser.esm-C4yDm8mC.js";import{B as E}from"./button-CfjClziF.js";import"./_commonjsHelpers-BosuxZz1.js";import"./jsx-runtime-Nms4Y4qS.js";import"./emotion-use-insertion-effect-with-fallbacks.browser.esm--wlgpIj0.js";import"./useSize-DEaGCPa-.js";import"./assertThisInitialized-yxL75rf1.js";import"./index-CReuRBEY.js";var S="Expected a function";function v(t,r,e){var o=!0,s=!0;if(typeof t!="function")throw new TypeError(S);return y(e)&&(o="leading"in e?!!e.leading:o,s="trailing"in e?!!e.trailing:s),U(t,r,{leading:o,maxWait:r,trailing:s})}const w=(t,r=1e3)=>{const e=n.useRef();return n.useEffect(()=>{e.current=t},[t]),n.useMemo(()=>v((...T)=>{var d;(d=e.current)==null||d.call(e,...T)},r),[r])},X=()=>{const[t,r]=n.useState({x:0,y:0}),o=w(function(s){console.log("x",s.clientX,"y",s.clientY),r({x:s.clientX,y:s.clientY})},1e3);return n.useEffect(()=>(document.addEventListener("mousemove",o),()=>{document.removeEventListener("mousemove",o)}),[]),l(u,{children:[i("div",{children:"useThrottle节流用于防止scroll事件回调函数频繁触发"}),l("div",{children:["鼠标的位置：x:",t.x,",y:",t.y]})]})},b=()=>{const[t,r]=n.useState({x:0,y:0}),e=function(o){console.log("x",o.clientX,"y",o.clientY),r({x:o.clientX,y:o.clientY})};return n.useEffect(()=>(window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}),[]),l(u,{children:[i("div",{children:"未使用UseThrottle的demo"}),l("div",{children:["鼠标的位置：x:",t.x,",y:",t.y]})]})},j=({isUseThrottle:t})=>{const[r,e]=n.useState(t);return l(u,{children:[i(E,{onClick:()=>e(!r),type:"primary",children:r?"不使用节流":"使用节流"}),r?i(X,{}):i(b,{})]})},B={title:"hooks/useThrottle",component:j,argTypes:{isUseThrottle:{control:{type:"boolean"},defaultValue:!0}},parameters:{controls:{expanded:!0}}},c={args:{isUseThrottle:!0}},a={args:{isUseThrottle:!1}};var m,h,p;c.parameters={...c.parameters,docs:{...(m=c.parameters)==null?void 0:m.docs,source:{originalSource:`{
  args: {
    isUseThrottle: true
  }
}`,...(p=(h=c.parameters)==null?void 0:h.docs)==null?void 0:p.source}}};var f,x,g;a.parameters={...a.parameters,docs:{...(f=a.parameters)==null?void 0:f.docs,source:{originalSource:`{
  args: {
    isUseThrottle: false
  }
}`,...(g=(x=a.parameters)==null?void 0:x.docs)==null?void 0:g.source}}};const H=["HasUseThrottle","NoUseThrottle"];export{c as HasUseThrottle,a as NoUseThrottle,H as __namedExportsOrder,B as default};
